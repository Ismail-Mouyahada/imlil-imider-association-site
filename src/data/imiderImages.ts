// Images du village d'Imider
// Ce fichier contient les métadonnées des images du village

export interface ImiderImage {
  id: string;
  filename: string;
  title: string;
  description: string;
  category: 'مناظر_طبيعية' | 'قرية' | 'جبل' | 'طبيعة' | 'عمارة' | 'حياة_يومية';
  tags: string[];
  location?: string;
  date?: string;
  photographer?: string;
  featured: boolean;
}

// Fonction pour obtenir l'URL des images depuis le dossier public
const getImageUrl = (filename: string): string => {
  return `/imider/${filename}`;
};

// Génération automatique des métadonnées basées sur le nom de fichier
const generateImageMetadata = (filename: string, index: number): ImiderImage => {
  // Utilisation de l'index pour garantir l'unicité des IDs
  const id = `imider_${index + 1}`;
  
  // Catégorisation basée sur des mots-clés dans le nom ou l'index
  const categories: ImiderImage['category'][] = ['مناظر_طبيعية', 'قرية', 'جبل', 'طبيعة', 'عمارة', 'حياة_يومية'];
  const category = categories[index % categories.length];
  
  // Génération de titres variés en arabe
  const titles = [
    'منظر بانورامي لقرية إميدر',
    'منظر جبلي خلاب لإميدر',
    'قرية تقليدية أمازيغية',
    'جبال الأطلس الشامخة',
    'طبيعة برية لإميدر',
    'عمارة أمازيغية أصيلة',
    'حياة يومية في القرية',
    'منظر ريفي لإميدر',
    'جبال مغطاة بالثلوج',
    'وادي إميدر الخلاب',
    'منازل تقليدية أمازيغية',
    'منظر صحراوي خلاب',
    'واحة إميدر الخضراء',
    'منظر جوي للقرية',
    'جبال صخرية شاهقة',
    'حياة رعوية تقليدية',
    'عمارة محلية أصيلة',
    'منظر طبيعي خلاب',
    'قرية أمازيغية تقليدية',
    'جبال مهيبة شامخة'
  ];
  
  const descriptions = [
    'منظر خلاب لقرية إميدر والجبال المحيطة بها',
    'منظر طبيعي مميز للمنطقة مع جبالها ونباتاتها',
    'عمارة أمازيغية تقليدية في قرية إميدر',
    'منظر بانورامي لجبال الأطلس من إميدر',
    'مشهد من الحياة اليومية في قرية إميدر',
    'منظر طبيعي محفوظ حول قرية إميدر',
    'جبال مهيبة تحيط بقرية إميدر',
    'منظر على الوادي من مرتفعات إميدر',
    'عمارة ريفية تقليدية لإميدر',
    'منظر صحراوي وجبلي مميز للمنطقة',
    'حياة رعوية وزراعية في قرية إميدر',
    'جبال صخرية ومناظر برية لإميدر',
    'منظر على قرية إميدر من المرتفعات',
    'منظر طبيعي سليم حول إميدر',
    'عمارة أمازيغية تقليدية لإميدر',
    'جبال مغطاة بالثلوج في الشتاء بإميدر',
    'حياة مجتمعية في قرية إميدر',
    'منظر ريفي محفوظ لإميدر',
    'منظر بانورامي لمنطقة إميدر',
    'جبال مهيبة لإميدر'
  ];
  
  const tags = [
    'إميدر', 'قرية', 'أمازيغي', 'أطلس', 'جبل', 'منظر', 'طبيعة',
    'تقليد', 'ريفي', 'المغرب', 'جبال', 'وادي', 'عمارة',
    'حياة_يومية', 'رعوي', 'زراعة', 'مجتمع', 'ثقافة'
  ];
  
  const locations = [
    'إميدر، إقليم تنغير، المغرب',
    'قرية إميدر، الأطلس الكبير، المغرب',
    'منطقة إميدر، إقليم تنغير',
    'إميدر، جماعة قروية، المغرب',
    'قرية إميدر، جنوب شرق المغرب'
  ];
  
  const photographers = [
    'جمعية إميدر',
    'مصور محلي',
    'عضو من المجتمع',
    'زائر لإميدر',
    'توثيق محلي'
  ];
  
  return {
    id,
    filename,
    title: titles[index % titles.length],
    description: descriptions[index % descriptions.length],
    category,
    tags: tags.slice(0, Math.floor(Math.random() * 5) + 3), // 3-7 tags aléatoires
    location: locations[index % locations.length],
    date: new Date(2020 + (index % 4), Math.floor(Math.random() * 12), Math.floor(Math.random() * 28) + 1).toISOString().split('T')[0],
    photographer: photographers[index % photographers.length],
    featured: index < 10, // Les 10 premières images sont mises en avant
  };
};

// Liste des fichiers d'images
const imageFilenames = [
  '117973069_3907021272648441_2626841898810929795_n.jpg',
  '118203269_3909254232425145_4204747759257963846_n.jpg',
  '118216365_3909254435758458_2989651717593051317_n.jpg',
  '118254568_3913490642001504_1938866713939598217_n.jpg',
  '118718540_3945979268752641_5570101973294710536_n.jpg',
  '118790079_3956349957715572_3712524667140112737_n.jpg',
  '120955142_4068804099803490_7068194493967798646_n.jpg',
  '121040249_4068805213136712_4765613371793179454_n.jpg',
  '121042171_4068804563136777_1973372439666208322_n.jpg',
  '121043516_4068804923136741_8280350183277928225_n.jpg',
  '121050721_4068803646470202_4943312081654746430_n.jpg',
  '121063820_4071061759577724_3383100610804048902_n.jpg',
  '121442319_4089215881095645_3583056658069210290_n.jpg',
  '121453054_4089488537735046_6009759104754997665_n.jpg',
  '121456098_4089215637762336_5711038083801232125_n.jpg',
  '121529421_4089215381095695_4696746487298499307_n.jpg',
  '121583248_4089216427762257_2734399406874822268_n.jpg',
  '121621059_4089215054429061_4245759622189570672_n.jpg',
  '122149349_4108694739147759_3794716481793856906_n (1).jpg',
  '122149349_4108694739147759_3794716481793856906_n.jpg',
  '123311379_4141314462552453_18921881865892140_n.jpg',
  '123317067_4137826729567893_8759965082832034618_n.jpg',
  '132128498_4280719085278656_3254680452960473377_n.jpg',
  '141816092_4379335612083669_1784674190910863634_n.jpg',
  '143213130_4386953381321892_2488824875978298242_n.jpg',
  '144744354_4401454433205120_4502829575609157073_n.jpg',
  '144873998_4401454766538420_7174344245774119237_n.jpg',
  '145176700_4404105922939971_7995388418774389871_n.jpg',
  '145307720_4401457439871486_7107784282481549803_n.jpg',
  '145311531_4401457473204816_2582288824016527633_n.jpg',
  '145346377_4401454589871771_8107511345203299762_n.jpg',
  '145590493_4404100822940481_5148037592777017252_n.jpg',
  '146026741_4403483086335588_1122375632774038749_n.jpg',
  '146229077_4401454436538453_8365220171136494522_n.jpg',
  '152978661_4460635937286969_8077770324708851931_n.jpg',
  '156112450_4487301237953772_3102139620431021997_n.jpg',
  '156661740_4492621277421768_329256824238892649_n.jpg',
  '156755665_4492620610755168_1598891072182443405_n.jpg',
  '159490750_4508873855796510_1195539457707851745_n.jpg',
  '168396911_4578773028806592_4172641680416590634_n.jpg',
  '168830906_4578771905473371_1912010444239718526_n.jpg',
  '169009403_4578773458806549_1472503700244970927_n.jpg',
  '175108378_4631087320241829_6520388094630543677_n.jpg',
  '175667126_4637225219628039_5709483716170723800_n.jpg',
  '175674418_4637225022961392_4697901238206383850_n.jpg',
  '175822280_4637226769627884_3898457793831909270_n.jpg',
  '175831256_4631087646908463_3952909158946559444_n.jpg',
  '176168528_4631086783575216_6499381266359004221_n.jpg',
  '176234592_4637232432960651_3909575278487320472_n.jpg',
  '176294005_4637216216295606_824202037968980897_n.jpg',
  '176357901_4637225776294650_2166512331427931_n.jpg',
  '176515205_4637226182961276_2187973099521920156_n.jpg',
  '182362700_4679593508724543_5589207951123524556_n.jpg',
  '182423527_4679592018724692_5973150002618582952_n.jpg',
  '182499011_4679597678724126_2800281872297687401_n.jpg',
  '182509409_4679606722056555_2646511852000466680_n.jpg',
  '182524078_4679593028724591_6463745283992195224_n.jpg',
  '182579154_4679607522056475_4591086736085505444_n.jpg',
  '182587178_4682761778407716_5505562883929043852_n.jpg',
  '182628838_4679607115389849_1297206745799411293_n.jpg',
  '182667535_4679605605390000_8892407329781673602_n.jpg',
  '182674135_4679596322057595_4769576447824431_n.jpg',
  '182778941_4679606112056616_7786527707610179_n.jpg',
  '182848256_4679605215390039_2369726099700164_n.jpg',
  '186534077_4724222907594936_980043792377397288_n.jpg',
  '476744456_1528759784595417_8009009737082285025_n.jpg',
  '476745084_1528759811262081_4597424243446391388_n.jpg',
  '476748417_1528759624595433_4560130727389775961_n.jpg',
  '476762498_1528759607928768_5996543457242878051_n.jpg',
  '476787047_1528759667928762_2198649916079442_n.jpg',
  '476890916_1528759724595423_1408716958341899666_n.jpg',
  '476918332_1528759477928781_413039947113852235_n.jpg',
  '476924558_1528759721262090_1490605981790094738_n.jpg',
  '477210198_1528759644595431_692983714988727113_n.jpg',
  '477457839_1528759467928782_6712862889932871530_n.jpg',
  '477680650_1528759754595420_7989783722578710146_n.jpg',
  '477757960_1528759804595415_8410931804013503166_n.jpg',
  '477775729_1528759821262080_5839885682064388966_n.jpg',
  '477779247_1528759481262114_6128870171339950294_n.jpg',
  '477792599_1528759487928780_6438782800331405172_n.jpg',
  '477796223_1528759664595429_8989283968719787150_n.jpg',
  '489865693_1205515194916349_1677350556135257662_n.jpg',
  '489917019_1205514994916369_1741792315355009969_n.jpg',
  '489957383_1205270401607495_5020562839697417601_n.jpg',
  '490262703_1206405124827356_177974378682694484_n.jpg',
  '490452238_1206405568160645_2910480160560110397_n.jpg',
  '515439171_24979123975011531_4266579576813807148_n.jpg',
  '515922611_24996966029893992_6786018814042184359_n.jpg',
  '516646824_24987828870807708_2905910408613079229_n.jpg'
];

// Génération des métadonnées pour toutes les images
export const imiderImages: ImiderImage[] = imageFilenames.map((filename, index) => 
  generateImageMetadata(filename, index)
);

// Fonction pour obtenir l'URL d'une image
export const getImiderImageUrl = (filename: string): string => {
  return getImageUrl(filename);
};

// Fonction pour obtenir les images par catégorie
export const getImiderImagesByCategory = (category: ImiderImage['category']): ImiderImage[] => {
  return imiderImages.filter(img => img.category === category);
};

// Fonction pour obtenir les images mises en avant
export const getFeaturedImiderImages = (): ImiderImage[] => {
  return imiderImages.filter(img => img.featured);
};

// Fonction pour rechercher des images
export const searchImiderImages = (query: string): ImiderImage[] => {
  const lowercaseQuery = query.toLowerCase();
  return imiderImages.filter(img => 
    img.title.toLowerCase().includes(lowercaseQuery) ||
    img.description.toLowerCase().includes(lowercaseQuery) ||
    img.tags.some(tag => tag.toLowerCase().includes(lowercaseQuery)) ||
    img.location?.toLowerCase().includes(lowercaseQuery)
  );
};

// Statistiques des images
export const getImiderImagesStats = () => {
  const categories = imiderImages.reduce((acc, img) => {
    acc[img.category] = (acc[img.category] || 0) + 1;
    return acc;
  }, {} as Record<string, number>);

  return {
    total: imiderImages.length,
    featured: imiderImages.filter(img => img.featured).length,
    categories,
    dateRange: {
      earliest: Math.min(...imiderImages.map(img => new Date(img.date || '2020-01-01').getTime())),
      latest: Math.max(...imiderImages.map(img => new Date(img.date || '2020-01-01').getTime()))
    }
  };
};
