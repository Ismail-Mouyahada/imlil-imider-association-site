[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "18"

[build.upload]
  format = "modules"
  main = "./dist/index.js"

[build.upload.routes]
  - pattern = "/*"
    custom_domain = true

[build.upload.headers]
  - path = "/*"
    headers = [
      "X-Frame-Options: DENY",
      "X-Content-Type-Options: nosniff",
      "X-XSS-Protection: 1; mode=block",
      "Referrer-Policy: strict-origin-when-cross-origin"
    ]
  - path = "/static/*"
    headers = [
      "Cache-Control: public, max-age=31536000, immutable"
    ]
  - path = "/*.js"
    headers = [
      "Cache-Control: public, max-age=31536000, immutable"
    ]
  - path = "/*.css"
    headers = [
      "Cache-Control: public, max-age=31536000, immutable"
    ]